<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>ุฅุฏุงุฑุฉ ุงูุนูุฏุฉ</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  <script type="module" src="custody.js"></script>
</head>
<body>
  <header class="main-header">
    <nav>
      <ul>
        <li><a href="index.html">HOME PAGE</a></li>
        <li><a href="employees.html">๐ท ุงูุนุงูููู</a></li>
        <li><a href="custody.html">๐ธ ุงููุตุฑููุงุช ูุงูุนูุฏุฉ</a></li>
        <li><a href="#">๐ฆ ุงูุทูุจุงุช</a></li>
      </ul>
    </nav>
  </header>
  <h2>ุชุณุฌูู ุงูุนูุฏุฉ ูุงููุตุฑููุงุช</h2>

  <section class="search-box">
    <label>ููุชุฑุฉ ุญุณุจ ุงูุชุงุฑูุฎ:</label>
    <input type="text" id="searchItem" placeholder="ุงูุชุจ ุงุณู ุงููุตุฑูู..." />
    <div style="display:flex; gap:10px">
      <input type="date" id="filterFrom">
      <input type="date" id="filterTo">
      <button id="applyFilter">ุชุทุจูู ุงูููุชุฑ</button>
    </div>
  </section>

  <div class="filter-container">
    <label for="filterDate">ุชุตููุฉ ุจุงูุชุงุฑูุฎ:</label>
    <input type="date" id="filterDate">
  </div>

  <select id="monthFilter">
    <option value="all">ูู ุงูุดููุฑ</option>
  </select>

  <section class="custody-section">
    <h3>ุฅุถุงูุฉ ุนูุฏุฉ ุฌุฏูุฏุฉ</h3>
    <form id="custodyForm">
      <label for="custodyName">ุงุณู ุงูุนูุฏุฉ:</label>
      <input type="text" id="custodyName" required>

      <label for="custodyAmount">ูููุฉ ุงูุนูุฏุฉ:</label>
      <input type="number" id="custodyAmount" required>

      <label for="custodyDate">ุชุงุฑูุฎ ุงูุนูุฏุฉ:</label>
      <input type="date" id="custodyDate">

      <button type="submit">ุชุณุฌูู ุงูุนูุฏุฉ</button>
    </form>
  </section>

  <section class="expense-section">
    <h3>ุฅุถุงูุฉ ูุตุฑูู</h3>
    <form id="expenseForm">
      <label for="item">ุงุณู ุงููุตุฑูู:</label>
      <input type="text" id="item" required>

      <label for="expenseAmount">ุงููููุฉ:</label>
      <input type="number" id="expenseAmount" required>

      <label for="expenseDate">ุงูุชุงุฑูุฎ:</label>
      <input type="date" id="expenseDate">

      <label for="note">ููุงุญุธุงุช:</label>
      <input type="text" id="note">

      <button type="submit">ุฅุถุงูุฉ ุงููุตุฑูู</button>
    </form>
  </section>

  <section class="report-section">
    <h3>ุงูุชูุฑูุฑ ุงููุงูู</h3>
    <p><strong>ุฅุฌูุงูู ุงูุนูุฏ:</strong> <span id="totalCustodies">0</span> ุฌููู</p>
    <p><strong>ุฅุฌูุงูู ุงููุตุฑููุงุช:</strong> <span id="totalExpenses">0</span> ุฌููู</p>
    <p><strong>ุงููุชุจูู:</strong> <span id="remaining">0</span> ุฌููู</p>
    <button id="exportExcel" class="export-btn">ุชุตุฏูุฑ ุฅูู Excel</button>
    <button id="clearCustodyBtn">๐๏ธ ูุณุญ ูู ุงูุนูุฏ</button>

  </section>

  <table>
    <thead>
      <tr>
        <th>ุชุงุฑูุฎ</th>
        <th>ุงุณู ุงููุตุฑูู</th>
        <th>ุงููููุฉ</th>
        <th>ููุงุญุธุงุช</th>
        <th>ุญุฐู</th>
      </tr>
    </thead>
    <tbody id="expensesTable"></tbody>
  </table>
  <script src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>
  <style>
  tr.custody-row td {
    background-color: #ffe5e5 !important; /* ููู ุฃุญูุฑ ูุงุชุญ */
    font-weight: bold;
  }
</style>

</body>
</html>
